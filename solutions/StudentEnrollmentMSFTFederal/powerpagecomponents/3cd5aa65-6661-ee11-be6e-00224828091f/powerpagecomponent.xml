<powerpagecomponent powerpagecomponentid="3cd5aa65-6661-ee11-be6e-00224828091f">
  <content>{
  "source": "{% block main %}\r\n\r\n{% if request.params['page'] | xml_escape %}\r\n{% assign page = request.params['page'] | xml_escape | integer | default: 1 %}\r\n{% else %}\r\n{% assign page = 1 %}\r\n{% endif %}\r\n\r\n{% assign previousPage = page | minus: 1 %}\r\n{% assign nextPage = page | plus: 1 %}\r\n\r\n{% if request.params['category'] | xml_escape %}\r\n{% assign categoryFilter = request.params['category'] | xml_escape | integer | default: -1 %}\r\n{% else %}\r\n{% assign categoryFilter = -1 %}\r\n{% endif %}\r\n\r\n{% assign seasonFilter = request.params['season'] | xml_escape | default: currentSeason %}\r\n\r\n{% assign cardsPerRowValue = settings['ASP/Pagination/CardsPerRow'] | default: 3 %}\r\n{% assign cardsPerRow = cardsPerRowValue | times: 1.0 %}\r\n{% assign cardsPerPageValue = settings['ASP/Pagination/CardsPerPage'] | default: 20 %}\r\n{% assign cardsPerPage = cardsPerPageValue | times: 1.0 %}\r\n{% assign cardCounter = 1 %}\r\n\r\n{% fetchxml courses %}\r\n&lt;fetch count=\"{{ cardsPerPage }}\" returntotalrecordcount=\"true\" page=\"{{ page }}\"&gt;\r\n  &lt;entity name=\"msdynce_course\" &gt;\r\n    &lt;attribute name=\"msdynce_registeredparticipants\" /&gt;\r\n    &lt;attribute name=\"msdynce_coursename\" /&gt;\r\n    &lt;attribute name=\"msdynce_registerationmaxcapacity\" /&gt;\r\n    &lt;attribute name=\"msdynce_instructor\" /&gt;\r\n    &lt;attribute name=\"msdynce_coursecategory\" /&gt;\r\n    &lt;attribute name=\"msdynce_courseenddateandtime\" /&gt;\r\n    &lt;attribute name=\"msdynce_registerationdeadline\" /&gt;\r\n    &lt;attribute name=\"msdynce_coursestartdateandtime\" /&gt;\r\n    &lt;attribute name=\"msdynce_coursedescription\" /&gt;\r\n    &lt;attribute name=\"msdynce_entityimage\" /&gt;\r\n    &lt;attribute name=\"msdynce_course_id\" /&gt;\r\n    &lt;attribute name=\"msdynce_coursegradelevel\"/&gt;\r\n    &lt;attribute name=\"msdynce_coursedays\"/&gt;    \r\n    &lt;attribute name=\"msdynce_coursetype\"/&gt;    \r\n    &lt;filter&gt;\r\n      &lt;condition attribute=\"statuscode\" operator=\"eq\" value=\"1\" /&gt;\r\n      {% if categoryFilter != -1 %}\r\n      {% unless request.params['search'] | xml_escape %}\r\n      &lt;condition attribute=\"msdynce_coursecategory\" operator=\"eq\" value=\"{{categoryFilter}}\" /&gt;\r\n      {% endunless %}\r\n      {% endif %}\r\n    &lt;/filter&gt;\r\n    {% if request.params['search'] | xml_escape %}\r\n    {% assign searchTxt = request.params['search'] | xml_escape %}\r\n    &lt;filter type=\"or\" &gt;\r\n      &lt;condition attribute=\"msdynce_coursename\" operator=\"like\" value=\"%{{searchTxt}}%\" /&gt;\r\n      &lt;condition attribute=\"msdynce_instructor\" operator=\"like\" value=\"%{{searchTxt}}%\" /&gt;\r\n      &lt;condition attribute=\"msdynce_coursedescription\" operator=\"like\" value=\"%{{searchTxt}}%\" /&gt;\r\n    &lt;/filter&gt;\r\n    {% endif %}\r\n    {% unless request.params['search'] | xml_escape %}\r\n    {% if request.params['level'] | xml_escape %}\r\n    &lt;filter&gt;\r\n      {% for v in gradeFilters %}\r\n      &lt;condition attribute=\"msdynce_coursegradelevel\" operator=\"contain-values\" &gt;\r\n        &lt;value&gt;{{v}}&lt;/value&gt;\r\n      &lt;/condition&gt;\r\n      {% endfor %}\r\n    &lt;/filter&gt;\r\n    {% endif %}\r\n    {% if request.params['type'] | xml_escape %}\r\n    &lt;filter&gt;\r\n      {% for v in typeFilters %}\r\n      &lt;condition attribute=\"msdynce_coursetype\" operator=\"contain-values\" &gt;\r\n        &lt;value&gt;{{v}}&lt;/value&gt;\r\n      &lt;/condition&gt;\r\n      {% endfor %}\r\n    &lt;/filter&gt;\r\n    {% endif %}\r\n    {% endunless %}\r\n    &lt;order attribute=\"msdynce_registerationdeadline\" /&gt;\r\n  &lt;/entity&gt;\r\n&lt;/fetch&gt;\r\n{% endfetchxml %}\r\n\r\n{% if courses.results and courses.results.entities and courses.results.entities.size &gt; 0 %}\r\n  {% assign coursesResults = courses.results.entities %}\r\n  {% assign filteredIndices = \"\" %}\r\n  {% assign index = 0 %}\r\n  {% unless request.params['search'] | xml_escape %}\r\n  {% for course in coursesResults %}\r\n    {% assign enddatemonth = course.msdynce_courseenddateandtime | date: \"MM\" | integer%}\r\n    {% assign strIndex = index | string %}\r\n    {% if request.params['season'] %}\r\n      {% case seasonFilter  %}\r\n        {% when fall %}\r\n          {% if enddatemonth &gt;= 9 and enddatemonth &lt;= 11 %}\r\n            {% if filteredIndices.size &gt; 0 %}\r\n              {% assign filteredIndices = filteredIndices | append: \",\" %}\r\n            {% endif %}\r\n            {% assign filteredIndices = filteredIndices | append: strIndex %}\r\n          {% endif %}\r\n        {% when winter %}\r\n          {% if enddatemonth == 12 or enddatemonth &lt;= 2 %}\r\n            {% if filteredIndices.size &gt; 0 %}\r\n              {% assign filteredIndices = filteredIndices | append: \",\" %}\r\n            {% endif %}\r\n            {% assign filteredIndices = filteredIndices | append: strIndex  %}\r\n          {% endif %}\r\n        {% when spring %}\r\n          {% if enddatemonth &gt;= 3 and enddatemonth &lt;= 5 %}\r\n            {% if filteredIndices.size &gt; 0 %}\r\n              {% assign filteredIndices = filteredIndices | append: \",\" %}\r\n            {% endif %}  \r\n            {% assign filteredIndices = filteredIndices | append: strIndex  %}\r\n          {% endif %}\r\n        {% when summer %}\r\n          {% if enddatemonth &gt;= 6 and enddatemonth &lt;= 8 %}\r\n            {% if filteredIndices.size &gt; 0 %}\r\n              {% assign filteredIndices = filteredIndices | append: \",\" %}\r\n            {% endif %}\r\n            {% assign filteredIndices = filteredIndices | append: strIndex %}\r\n          {% endif %}\r\n      {% endcase %}\r\n    {% else %}\r\n      {% if filteredIndices.size &gt; 0 %}\r\n        {% assign filteredIndices = filteredIndices | append: \",\" %}\r\n      {% endif %}\r\n      {% assign filteredIndices = filteredIndices | append: strIndex %}\r\n    {% endif %}\r\n    {% assign index = index | plus: 1 %}\r\n  {% endfor %}\r\n  {% endunless %}\r\n  {% if filteredIndices.size &gt; 0 %}\r\n    {% assign filteredIndices = filteredIndices | split: \",\" %}\r\n    {% assign totalCount = filteredIndices.size %}\r\n    {% assign pages = totalCount | decimal | divided_by: cardsPerPage | ceil %}\r\n\r\n    {% for i in filteredIndices %}\r\n      {% assign index = i | integer %}\r\n  \r\n      {% assign course = coursesResults[index] %}\r\n  \r\n      &lt;!-- Course Days --&gt;\r\n      {% assign dayvalues = '' %}\r\n\r\n      {% if request.IsPreview != true %}\r\n        {% if course.msdynce_coursedays %}\r\n          {% for day in course.msdynce_coursedays %}\r\n              {% assign dayvalues = dayvalues | append:'&lt;p&gt;'| append:day.label| append:'&lt;/p&gt;' %}\r\n          {% endfor %}\r\n        {% endif %}  \r\n      {% endif %}\r\n      &lt;!-- END - Course Days --&gt;\r\n\r\n      &lt;!-- Course Types --&gt;\r\n      {% assign typeValues = '' %}\r\n\r\n      {% if request.IsPreview != true %}\r\n          {% if course.msdynce_coursetype %}\r\n          {% for type in course.msdynce_coursetype %}\r\n              {% if forloop.index == 2 %}\r\n              {% assign typeValues = typeValues | append:'&lt;span class=\"separator\"&gt; | &lt;/span&gt;' %} \r\n              {% endif %}\r\n              {% if type.value == 441790000 %}\r\n              {% assign typeValues = typeValues | append: '&lt;img src=\"/format-icon.svg\" alt=\"in-person icon\"&gt;' | append:'&lt;span&gt;'| append:type.label| append:'&lt;/span&gt;' %}  \r\n              {% else %}\r\n              {% assign typeValues = typeValues | append: '&lt;img src=\"/virtual.svg\" alt=\"Virtual course icon\"&gt;' | append:'&lt;span&gt;'| append:type.label| append:'&lt;/span&gt;' %}  \r\n              {% endif %}\r\n          {% endfor %}\r\n          {% endif %}  \r\n      {% endif %}\r\n      &lt;!-- END - Course Types --&gt;\r\n\r\n      {% if course.msdynce_registeredparticipants %}\r\n      {% assign registered = course.msdynce_registeredparticipants %}\r\n      {% else %}\r\n      {% assign registered = 0 %}\r\n      {% endif %}\r\n\r\n      {% if cardCounter == 1 %}\r\n      &lt;div class=\"sr-only\" role=\"alert\"&gt;{{courses.results.entities.size}} {{ snippets[\"CoursesFound\"] }}&lt;/div&gt;\r\n      &lt;div aria-label=\"{{courses.results.entities.size}} {{ snippets[\"CoursesFound\"] }}\" class=\"row card-row\"&gt;\r\n      {% endif %}\r\n\r\n      &lt;div class='col-sm-6 col-lg-4 card-column'&gt;\r\n      {% editable snippets 'Card/Course' type: 'html' %}\r\n      &lt;/div&gt;\r\n      {% if cardCounter == cardsPerRow or forloop.last %}\r\n      &lt;/div&gt;\r\n      {% endif %}\r\n\r\n      {% if cardCounter &lt; cardsPerRow %}\r\n      {% assign cardCounter = cardCounter | plus: 1 %}\r\n      {% else %}\r\n      {% assign cardCounter = 1 %}\r\n      {% endif %}\r\n\r\n    {% endfor %}\r\n\r\n    {% include 'Custom Pagination' %}\r\n  {% else %}\r\n    &lt;div class=\"row card-row\"&gt;\r\n      &lt;div class=\"col-md-12 col-sm-12 col-lg-12\"&gt;\r\n      &lt;p&gt;{{ snippets[\"NoCoursesFound\"] }}&lt;/p&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  {% endif %}    \r\n{% else %}\r\n&lt;div class=\"row card-row\"&gt;\r\n  &lt;div class=\"col-md-12 col-sm-12 col-lg-12\"&gt;\r\n  &lt;p&gt;{{ snippets[\"NoCoursesFound\"] }}&lt;/p&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n{% endif %}\r\n\r\n{% editable snippets 'Modal/Sign In' type: 'html' %}\r\n\r\n{% endblock %}\r\n"
}</content>
  <iscustomizable>1</iscustomizable>
  <name>Course Catalog</name>
  <powerpagecomponenttype>8</powerpagecomponenttype>
  <powerpagesiteid>
    <powerpagesiteid>d8ec5562-6661-ee11-be6e-0022482a9f76</powerpagesiteid>
  </powerpagesiteid>
  <statecode>0</statecode>
  <statuscode>1</statuscode>
</powerpagecomponent>