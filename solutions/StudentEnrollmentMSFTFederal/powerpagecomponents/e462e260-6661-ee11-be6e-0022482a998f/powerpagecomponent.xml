<powerpagecomponent powerpagecomponentid="e462e260-6661-ee11-be6e-0022482a998f">
  <content>{
  "source": "&lt;!-- Get Grades option set values --&gt;\r\n{% fetchxml coursegrades %}\r\n&lt;fetch distinct='true'&gt;\r\n  &lt;entity name='stringmap'&gt;\r\n    &lt;attribute name='attributevalue' /&gt;\r\n    &lt;attribute name='attributename' /&gt;\r\n    &lt;attribute name='objecttypecode' /&gt;\r\n    &lt;attribute name='displayorder' /&gt;\r\n    &lt;attribute name='value' /&gt;\r\n    &lt;filter&gt;\r\n      &lt;condition attribute='attributename' operator='eq' value='msdynce_coursegradelevel' /&gt;\r\n    &lt;/filter&gt;\r\n    &lt;order attribute='objecttypecode' descending='true' /&gt;\r\n    &lt;order attribute='displayorder' /&gt;\r\n  &lt;/entity&gt;\r\n&lt;/fetch&gt;\r\n{% endfetchxml %}\r\n&lt;!-- Get Course Types option set values --&gt;\r\n{% fetchxml coursetypes %}\r\n&lt;fetch distinct='true'&gt;\r\n  &lt;entity name='stringmap'&gt;\r\n    &lt;attribute name='attributevalue' /&gt;\r\n    &lt;attribute name='displayorder' /&gt;\r\n    &lt;attribute name='value' /&gt;\r\n    &lt;attribute name='attributename' /&gt;\r\n    &lt;attribute name='objecttypecode' /&gt;\r\n    &lt;filter&gt;\r\n      &lt;condition attribute='attributename' operator='eq' value='msdynce_coursetype' /&gt;\r\n\r\n    &lt;/filter&gt;\r\n    &lt;order attribute='objecttypecode' descending='true' /&gt;\r\n    &lt;order attribute='displayorder' /&gt;\r\n  &lt;/entity&gt;\r\n&lt;/fetch&gt;\r\n{% endfetchxml %}\r\n&lt;!-- Get Course categories option set values --&gt;\r\n{% fetchxml coursecategories %}\r\n&lt;fetch distinct='true'&gt;\r\n  &lt;entity name='stringmap'&gt;\r\n    &lt;attribute name='attributevalue' /&gt;\r\n    &lt;attribute name='displayorder' /&gt;\r\n    &lt;attribute name='value' /&gt;\r\n    &lt;attribute name='attributename' /&gt;\r\n    &lt;attribute name='objecttypecode' /&gt;\r\n    &lt;filter&gt;\r\n      &lt;condition attribute='attributename' operator='eq' value='msdynce_coursecategory' /&gt;\r\n\r\n    &lt;/filter&gt;\r\n    &lt;order attribute='objecttypecode' descending='true' /&gt;\r\n    &lt;order attribute='displayorder' /&gt;\r\n  &lt;/entity&gt;\r\n&lt;/fetch&gt;\r\n{% endfetchxml %}\r\n\r\n{% if coursegrades.results and coursegrades.results.entities and coursegrades.results.entities.size &gt; 0 %}\r\n  {% assign entityCode = coursegrades.results.entities[0].objecttypecode %}\r\n{% endif %}\r\n\r\n{% assign fall = snippets['Filter/Season/Fall'] %}\r\n{% assign winter = snippets['Filter/Season/Winter'] %}\r\n{% assign spring = snippets['Filter/Season/Spring'] %}\r\n{% assign summer = snippets['Filter/Season/Summer'] %}\r\n{% assign today = now | date: '%M' | integer %}\r\n{% assign currentSeason = '' %}\r\n\r\n{% if today &gt;= 9 and today &lt;= 11 %}\r\n  {% assign currentSeason = winter %}\r\n{% elsif today == 12 or today &lt;= 2 %}\r\n  {% assign currentSeason = spring %}\r\n{% elsif today &gt;= 3 and today &lt;= 5 %}\r\n  {% assign currentSeason = summer %}\r\n{% elsif today &gt;= 6 and today &lt;= 8 %}\r\n  {% assign currentSeason = fall %}\r\n{% endif %}\r\n\r\n{% if request.params['level'] | xml_escape %}\r\n  {% assign gradeFilters = request.params.level | xml_escape | split: ',' %}\r\n{% endif %}\r\n\r\n{% if request.params['type'] | xml_escape %}\r\n  {% assign typeFilters = request.params.type | xml_escape | split: ',' %}\r\n{% endif %}\r\n\r\n{% assign selectedCategoryId = request.params.category | xml_escape | integer %}\r\n{% assign selectedCategory = coursecategories.results.entities | where: 'attributevalue', selectedCategoryId | first %}\r\n\r\n{% assign selectedSeason = request.params.season | xml_escape %}\r\n\r\n{% assign selectedLevelId = request.params.level | xml_escape | integer %}\r\n{% assign selectedLevel = coursegrades.results.entities | where: 'attributevalue', selectedLevelId | first %}\r\n\r\n{% assign selectedTypeId = request.params.type | xml_escape | integer %}\r\n{% assign selectedType = coursetypes.results.entities | where: 'attributevalue', selectedTypeId | first %}\r\n\r\n\r\n&lt;div class='row filters'&gt;\r\n  &lt;div class='col-lg-3 col-sm-3 col-md-3 search-container'&gt;\r\n    &lt;div class='input-group search-input'&gt;\r\n      {% if request.params['search'] | xml_escape %}\r\n        &lt;input\r\n          type='text'\r\n          id='txtsearch'\r\n          placeholder='{{snippets['Filter/SearchEvent']}}'\r\n          aria-label='{{snippets['Filter/SearchEvent']}}'\r\n          value='{{request.params['search'] | xml_escape}}'\r\n        &gt;\r\n      {% else %}\r\n        &lt;input\r\n          type='text'\r\n          id='txtsearch'\r\n          placeholder='{{snippets['Filter/SearchEvent']}}'\r\n          aria-label='{{snippets['Filter/SearchEvent']}}'\r\n        &gt;\r\n      {% endif %}\r\n      &lt;div class='input-group-btn'&gt;\r\n        &lt;button id='btnSearch' class='btn search-input-button' aria-label='Search'&gt;\r\n          &lt;span class='fa fa-search form-control-feedback'&gt;&lt;/span&gt;\r\n        &lt;/button&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class='col-lg-9 col-sm-9 col-md-9'&gt;\r\n    &lt;div class='catalog-dropdown-filters'&gt;\r\n      &lt;label&gt;\r\n        Category\r\n        &lt;select name='Category' title='{{ selectedCategory.value | default: 'Any' }}' class='course-selector'&gt;\r\n          &lt;option\r\n            value=''\r\n            {% unless selectedCategory %}\r\n              selected\r\n            {% endunless %}\r\n          &gt;\r\n            Any\r\n          &lt;/option&gt;\r\n          {% for category in coursecategories.results.entities %}\r\n            &lt;option\r\n              value='{{category.attributevalue}}'\r\n              {% if selectedCategory == category %}\r\n                selected\r\n              {% endif %}\r\n            &gt;\r\n              {{ category.value }}\r\n            &lt;/option&gt;\r\n          {% endfor %}\r\n        &lt;/select&gt;\r\n      &lt;/label&gt;\r\n\r\n      &lt;label&gt;\r\n        Season\r\n        &lt;select name='Season' title='{{ selectedSeason | default: 'Any' }}' class='course-selector'&gt;\r\n          &lt;option\r\n            value=''\r\n            {% unless selectedSeason %}\r\n              selected\r\n            {% endunless %}\r\n          &gt;\r\n            Any\r\n          &lt;/option&gt;\r\n          &lt;option\r\n            value='{{fall}}'\r\n            {% if selectedSeason == fall %}\r\n              selected\r\n            {% endif %}\r\n          &gt;\r\n            {{ fall }}\r\n          &lt;/option&gt;\r\n          &lt;option\r\n            value='{{winter}}'\r\n            {% if selectedSeason == winter %}\r\n              selected\r\n            {% endif %}\r\n          &gt;\r\n            {{ winter }}\r\n          &lt;/option&gt;\r\n          &lt;option\r\n            value='{{spring}}'\r\n            {% if selectedSeason == spring %}\r\n              selected\r\n            {% endif %}\r\n          &gt;\r\n            {{ spring }}\r\n          &lt;/option&gt;\r\n          &lt;option\r\n            value='{{summer}}'\r\n            {% if selectedSeason == summer %}\r\n              selected\r\n            {% endif %}\r\n          &gt;\r\n            {{ summer }}\r\n          &lt;/option&gt;\r\n        &lt;/select&gt;\r\n      &lt;/label&gt;\r\n\r\n      &lt;label&gt;\r\n        Level\r\n        &lt;select name='Grade Level' title='{{ selectedLevel.value | default: 'Any' }}' class='course-selector'&gt;\r\n          &lt;option\r\n            value=''\r\n            {% unless selectedLevel %}\r\n              selected\r\n            {% endunless %}\r\n          &gt;\r\n            Any\r\n          &lt;/option&gt;\r\n          {% for grade in coursegrades.results.entities %}\r\n            &lt;option\r\n              value='{{grade.attributevalue}}'\r\n              {% if selectedLevel == grade %}\r\n                selected\r\n              {% endif %}\r\n            &gt;\r\n              {{ grade.value }}\r\n            &lt;/option&gt;\r\n          {% endfor %}\r\n        &lt;/select&gt;\r\n      &lt;/label&gt;\r\n\r\n      &lt;label&gt;\r\n        Type\r\n        &lt;select name='Course Type' title='{{ selectedType.value | default: 'Any' }}' class='course-selector'&gt;\r\n          &lt;option\r\n            value=''\r\n            {% unless selectedType %}\r\n              selected\r\n            {% endunless %}\r\n          &gt;\r\n            Any\r\n          &lt;/option&gt;\r\n          {% for type in coursetypes.results.entities %}\r\n            &lt;option\r\n              value='{{type.attributevalue}}'\r\n              {% if selectedType == type %}\r\n                selected\r\n              {% endif %}\r\n            &gt;\r\n              {{ type.value }}\r\n            &lt;/option&gt;\r\n          {% endfor %}\r\n        &lt;/select&gt;\r\n      &lt;/label&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n"
}</content>
  <iscustomizable>1</iscustomizable>
  <name>Dropdown Filters</name>
  <powerpagecomponenttype>8</powerpagecomponenttype>
  <powerpagesiteid>
    <powerpagesiteid>d8ec5562-6661-ee11-be6e-0022482a9f76</powerpagesiteid>
  </powerpagesiteid>
  <statecode>0</statecode>
  <statuscode>1</statuscode>
</powerpagecomponent>