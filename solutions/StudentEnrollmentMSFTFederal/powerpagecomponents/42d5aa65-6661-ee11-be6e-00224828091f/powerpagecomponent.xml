<powerpagecomponent powerpagecomponentid="42d5aa65-6661-ee11-be6e-00224828091f">
  <content>{
  "source": "{% editable snippets 'Card/Registrations/Success/Message' type: 'html' %}\r\n\r\n{% if request.params['id'] | xml_escape and  request.IsPreview != true %}\r\n{% assign courseid = request.params['id'] | xml_escape %}\r\n{% fetchxml courseselected %}\r\n&lt;fetch&gt;\r\n  &lt;entity name=\"msdynce_course\"&gt;\r\n    &lt;attribute name=\"msdynce_registeredparticipants\" /&gt;\r\n    &lt;attribute name=\"msdynce_coursename\" /&gt;\r\n    &lt;attribute name=\"msdynce_registerationmaxcapacity\" /&gt;\r\n    &lt;attribute name=\"msdynce_instructor\" /&gt;\r\n    &lt;attribute name=\"msdynce_courseenddateandtime\" /&gt;\r\n    &lt;attribute name=\"msdynce_registerationdeadline\" /&gt;\r\n    &lt;attribute name=\"msdynce_coursestartdateandtime\" /&gt;\r\n    &lt;attribute name=\"msdynce_coursedescription\" /&gt;\r\n    &lt;attribute name=\"msdynce_course_id\" /&gt;\r\n    &lt;attribute name=\"msdynce_coursegradelevel\"/&gt;\r\n    &lt;attribute name=\"msdynce_coursedays\"/&gt;    \r\n    &lt;attribute name=\"msdynce_coursetype\"/&gt;    \r\n    &lt;filter&gt;\r\n      &lt;condition attribute=\"msdynce_courseid\" operator=\"eq\" value=\"{{courseid}}\" /&gt;\r\n    &lt;/filter&gt;\r\n  &lt;/entity&gt;\r\n&lt;/fetch&gt;\r\n{% endfetchxml %}\r\n\r\n{% unless user.roles contains 'C1 ASP' %}\r\n{% fetchxml attendees %}\r\n&lt;fetch&gt;\r\n    &lt;entity name=\"contact\"&gt;\r\n        &lt;attribute name=\"fullname\"/&gt;\r\n        &lt;attribute name=\"contactid\"/&gt;\r\n        &lt;attribute name=\"entityimage\"/&gt;\r\n        &lt;order descending=\"false\" attribute=\"fullname\"/&gt;\r\n        &lt;filter type=\"and\"&gt;\r\n            &lt;condition attribute=\"parentcustomerid\" value=\"{{user.contactid}}\" operator=\"eq\"/&gt;\r\n            &lt;condition attribute=\"statecode\" value=\"0\" operator=\"eq\"/&gt;\r\n        &lt;/filter&gt;\r\n    &lt;/entity&gt;\r\n&lt;/fetch&gt;\r\n{% endfetchxml %}\r\n\r\n{% fetchxml registrations %}\r\n&lt;fetch &gt;\r\n    &lt;entity name=\"msdynce_registration\"&gt;\r\n        &lt;attribute name=\"msdynce_registrationid\"/&gt;\r\n        &lt;attribute name=\"msdynce_name\"/&gt;\r\n        &lt;attribute name=\"msdynce_attendeename\"/&gt;\r\n        &lt;order descending=\"false\" attribute=\"msdynce_name\"/&gt;\r\n        &lt;filter type=\"and\"&gt;\r\n            &lt;condition attribute=\"msdynce_courseid\" value=\"{{courseid}}\" operator=\"eq\"/&gt;\r\n            &lt;condition attribute=\"msdynce_parent\" value=\"{{user.contactid}}\" operator=\"eq\"/&gt;\r\n            &lt;condition attribute=\"statecode\" value=\"0\" operator=\"eq\"/&gt;\r\n        &lt;/filter&gt;\r\n    &lt;/entity&gt;\r\n&lt;/fetch&gt;\r\n{% endfetchxml %}\r\n\r\n{% if registrations.results and registrations.results.entities and registrations.results.entities.size &gt; 0 %}\r\n{% assign registeredString = '' %}\r\n{% for reg in registrations.results.entities %}\r\n{% assign registeredString = registeredString | append: reg.msdynce_attendeename.id | append: ',' %}\r\n{% endfor %}\r\n{% assign registeredArray = registeredString | split: ',' %}\r\n{% endif %}\r\n\r\n{% endunless %}\r\n{% else %}\r\n&lt;script&gt;\r\n  window.location.href = \"{{ sitemarkers['C1 Home'].url }}\"\r\n&lt;/script&gt;\r\n{% endif %}\r\n\r\n{% if courseselected.results and courseselected.results.entities %}\r\n{% assign course = courseselected.results.entities[0] %}\r\n\r\n{% if course.msdynce_registeredparticipants %}\r\n  {% assign registered = course.msdynce_registeredparticipants %}\r\n  {% else %}\r\n  {% assign registered = 0 %}\r\n{% endif %}\r\n\r\n&lt;!-- Course Days --&gt;\r\n{% assign dayvalues = '' %}\r\n\r\n{% if request.IsPreview != true %}\r\n    {% if course.msdynce_coursedays %}\r\n    {% for day in course.msdynce_coursedays %}\r\n        {% assign dayvalues = dayvalues | append:'&lt;p&gt;'| append:day.label| append:'&lt;/p&gt;' %}\r\n    {% endfor %}\r\n    {% endif %}  \r\n{% endif %}\r\n&lt;!-- END - Course Days --&gt;\r\n\r\n&lt;!-- Course Grades --&gt;\r\n{% assign gradeValues = '' %}\r\n\r\n{% if request.IsPreview != true %}\r\n    {% if course.msdynce_coursegradelevel %}\r\n    {% for grade in course.msdynce_coursegradelevel %}\r\n        {% assign gradeValues = gradeValues | append:'&lt;p&gt;'| append:grade.label| append:'&lt;/p&gt;' %}\r\n    {% endfor %}\r\n    {% endif %}  \r\n{% endif %}\r\n&lt;!-- END - Course Grades --&gt;\r\n\r\n&lt;!-- Course Types --&gt;\r\n{% assign typeValues = '' %}\r\n\r\n{% if request.IsPreview != true %}\r\n    {% if course.msdynce_coursetype %}\r\n    {% for type in course.msdynce_coursetype %}\r\n        {% if forloop.index == 2 %}\r\n        {% assign typeValues = typeValues | append:'&lt;span class=\"separator\"&gt; | &lt;/span&gt;' %} \r\n        {% endif %}\r\n        {% if type.value == 441790000 %}\r\n        {% assign typeValues = typeValues | append: '&lt;img src=\"/format-icon.svg\" alt=\"in-person icon\"&gt;' | append:'&lt;span&gt;'| append:type.label| append:'&lt;/span&gt;' %}  \r\n        {% else %}\r\n        {% assign typeValues = typeValues | append: '&lt;img src=\"/virtual.svg\" alt=\"Virtual course icon\"&gt;' | append:'&lt;span&gt;'| append:type.label| append:'&lt;/span&gt;' %}  \r\n        {% endif %}\r\n    {% endfor %}\r\n    {% endif %}  \r\n{% endif %}\r\n&lt;!-- END - Course Types --&gt;\r\n\r\n{% endif %}\r\n\r\n{% editable snippets 'Card/Registrations/Success' type: 'html' %}\r\n\r\n{% unless user %}\r\n&lt;!-- START MODAL --&gt;\r\n{% editable snippets 'Modal/Sign In' type: 'html' %}\r\n&lt;!-- END MODAL --&gt;\r\n{% endunless %}"
}</content>
  <iscustomizable>1</iscustomizable>
  <name>RegistrationSuccessForm</name>
  <powerpagecomponenttype>8</powerpagecomponenttype>
  <powerpagesiteid>
    <powerpagesiteid>d8ec5562-6661-ee11-be6e-0022482a9f76</powerpagesiteid>
  </powerpagesiteid>
  <statecode>0</statecode>
  <statuscode>1</statuscode>
</powerpagecomponent>